{{  json01}}
<div id="Cuad" class="row">
    <div class="col-md-4 mx-auto">
        <div class="card text-center">
            <div class="card-header">
                <h3>
                    SignUp
                </h3>
            </div>
            <div class="card-body">
                <img id="login" src="/imagen/1-22.jpg" alt="logo Antz"
                    class="card-img-top mx-auto m-2 rounded-circle w-20">

                <form action="/users/signup" method="POST">
                    <div class="form-group">
                        <input type="text" name="usuario" value="{{usuario}}" placeholder="Usuario" class="form-control"
                            autofocus>
                    </div>

                    <div class="form-group">
                        <input type="text" name="Nombre" value="{{Nombre}}" placeholder="Nombre completo"
                            class="form-control">
                    </div>
                    <div class="form-group">
                        <input type="password" name="password" value="" placeholder="Password" class="form-control">
                    </div>
                    <div class="form-group">
                        <input type="password" name="password1" value="" placeholder="Confirma tu Password"
                            class="form-control">
                    </div>
                    <div class="form-group">
                        <input type="text" name="Centro" value="" placeholder="Nombre del Centro Escolar"
                            class="form-control">
                    </div>
                    <div class="form-group">
                        <input type="text" name="ClaveCentro" value="" placeholder="Clave del Centro Escolar"
                            class="form-control">
                    </div>

                    <div class="input-group mb-3">
                        <select id="Materia" value="" placeholder="Materia" name="Materia" class="form-control"
                            onchange=evento([{{json01}}])>
                            <option disabled selected>Selecciona una metria</option>
                            {{#each materias}}
                            <option value={{_id}}>
                                <p>{{ _id}}</p>
                            </option>
                            {{/each}}
                        </select>

                        <select id="Grado" value="" placeholder="Materia" name="Grado" class="form-control">
                            <option disabled selected>Grado</option>
                        </select>
                        <a class="btn btn-success" id="btn01">add</a>
                             
                    </div>
                    <div class="input-group mb-3" id="Tabla">
                        <input type="hidden" value="" id="Texto" name="Texto">
                                        
                    </div>
                    <div class="form-group">
                        <select id="Tipo" name="Tipo" class="form-control">
                            <option value="Administrador">Administrador</option>
                            <option value="Docente">Docente</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-success btn-block">
                            SingUp
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    const materia = document.getElementById('Materia');
    const grad = document.getElementById('Grado');
    const boton = document.getElementById('btn01');
    const tabla=document.getElementById('Tabla');
    var datos=[];
    function comenzar() {

        //materia.addEventListener('change',evento([{{json01}}]),true);
        boton.addEventListener('click', agregar, false);
    }
    function agregar() {
        datos.push({ Materia: materia.value, Grado: grad.value})

        for(var i = 0; i<datos.length;i++){
            tabla.innerHTML='<input type="text" value="" id="Texto" name="Texto">'
            console.log("datos: " + JSON.stringify(datos) )
        } 
        document.getElementById('Texto').value=JSON.stringify(datos);
        
    }
    function evento(e) {
        grad.innerHTML = "<option disabled selected>Grado</option>"
        for (var i = 0; i < e.length; i++) {
            if (materia.value == e[i]._id) {
                var gra1 = e[i].entries;
                for (var y = 0; y < gra1.length; y++) {
                    grad.innerHTML += "<option value=" + gra1[y] + ">" + gra1[y] + "</option>"
                }

            }

        }

    }
    window.addEventListener("load", comenzar, false);
</script>